version: "1.0"
name: test-workspace
description: Test workspace for validation
root: .
patterns:
  - apps/*
  - packages/*
  - libs/*
  - tools/*
types:
  app:
    name: Application
    description: Frontend applications
    framework: react
    build:
      command: npm run build
      outputDir: dist
    dev:
      command: npm run dev
      port: 3000
    test:
      command: npm run test
    patterns:
      source:
        - src/**/*
      test:
        - "**/*.test.*"
        - "**/*.spec.*"
      config:
        - "*.config.*"
        - config/*
      assets:
        - public/**/*
        - assets/**/*
    requiredFiles:
      - package.json
    detection:
      files:
        - src/index.tsx
        - src/App.tsx
      packageJsonFields:
        - scripts.dev
        - scripts.build
  package:
    name: Package
    description: Shared packages and libraries
    build:
      command: npm run build
      outputDir: dist
    test:
      command: npm run test
    patterns:
      source:
        - src/**/*
        - lib/**/*
      test:
        - "**/*.test.*"
        - "**/*.spec.*"
    requiredFiles:
      - package.json
    detection:
      files:
        - src/index.ts
        - lib/index.js
      packageJsonFields:
        - main
        - module
        - types
workspaces:
  frontend-app:
    name: frontend-app
    type: app
    path: apps/frontend
    description: Main frontend application
    active: true
  ui-components:
    name: ui-components
    type: package
    path: packages/ui
    description: Shared UI component library
    active: true
  core-utils:
    name: core-utils
    type: package
    path: packages/core
    description: Core utility functions
    active: true
dependencies:
  frontend-app:
    - name: ui-components
      type: build
      optional: false
    - name: core-utils
      type: runtime
      optional: false
  ui-components:
    - name: core-utils
      type: build
      optional: false
build:
  target: es2020
  parallel: true
  maxConcurrency: 4
  cache: true
  sourcemap: true
dev:
  mode: concurrent
  cors: true
  hot: true
test:
  coverage:
    enabled: true
    threshold: 80
    exclude:
      - dist/**
      - node_modules/**
  parallel: true
  timeout: 30000
scripts:
  build:all:
    description: Build all workspaces
    command: npm run build
    workspaces: all
    parallel: true
  test:all:
    description: Test all workspaces
    command: npm run test
    workspaces: all
    parallel: true
    continueOnError: true
metadata:
  created: "2025-06-19T04:55:15.565Z"
  lastModified: "2025-06-19T04:55:15.566Z"